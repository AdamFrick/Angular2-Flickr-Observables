{"version":3,"file":"flickr.service.js","sourceRoot":"","sources":["flickr.service.ts"],"names":[],"mappings":";;;;;;;;;;AAAA,qBAAyB,eAAe,CAAC,CAAA;AACzC,qBAAmB,eAAe,CAAC,CAAA;AAEnC,QAAO,SAAS,CAAC,CAAA;AAGjB;IAEI,uBAAoB,KAAW;QAAX,UAAK,GAAL,KAAK,CAAM;IAAI,CAAC;;IAEpC,iCAAS,GAAT,UAAU,KAAa;QACnB,IAAI,GAAG,GAAG,qHAAmH,KAAK,8CAA2C,CAAC;QAC9K,MAAM,CAAC,IAAI,CAAC,KAAK;aACZ,GAAG,CAAC,GAAG,CAAC;aACR,GAAG,CAAC,UAAA,GAAG,IAAI,OAAA,GAAG,CAAC,IAAI,EAAE,EAAV,CAAU,CAAC;aACtB,GAAG,CAAC,UAAC,GAAG;YACL,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,KAAK,IAAI,CAAC,CAAC,CAAC;gBACpB,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,UAAC,KAAU;oBACnC,MAAM,CAAC;wBACH,GAAG,EAAE,iBAAe,KAAK,CAAC,IAAI,0BAAqB,KAAK,CAAC,MAAM,SAAI,KAAK,CAAC,EAAE,SAAI,KAAK,CAAC,MAAM,WAAQ;wBACnG,KAAK,EAAE,KAAK,CAAC,KAAK;qBACrB,CAAA;gBACL,CAAC,CAAC,CAAA;YACN,CAAC;YACD,IAAI,CAAC,CAAC;gBACF,MAAM,CAAC,EAAE,CAAC;YACd,CAAC;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IAvBL;QAAC,iBAAU,EAAE;;qBAAA;IAwBb,oBAAC;AAAD,CAAC,AAvBD,IAuBC;AAvBY,qBAAa,gBAuBzB,CAAA","sourcesContent":["import {Injectable} from '@angular/core';\r\nimport {Http} from '@angular/http';\r\nimport { Observable} from 'rxjs/Observable';\r\nimport 'rxjs/RX';\r\n\r\n@Injectable()\r\nexport class FlickrService {\r\n    result$: Observable<any>;\r\n    constructor(private _http: Http) { };\r\n\r\n    getResult(query: string) {\r\n        let url = `https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=9012151640d5486e63780579ff3b9cae&tags=${query}&per_page=12&format=json&nojsoncallback=1`;\r\n        return this._http\r\n            .get(url)\r\n            .map(res => res.json())\r\n            .map((val) => {\r\n                if (val.stat === 'ok') {\r\n                    return val.photos.photo.map((photo: any) => {\r\n                        return {\r\n                            url: `https://farm${photo.farm}.staticflickr.com/${photo.server}/${photo.id}_${photo.secret}_m.jpg`,\r\n                            title: photo.title\r\n                        }\r\n                    })\r\n                }\r\n                else {\r\n                    return [];\r\n                }\r\n            });\r\n    }\r\n}\r\n"]}